(this["webpackJsonpfgr-secure-api"]=this["webpackJsonpfgr-secure-api"]||[]).push([[0],{32:function(t,e,n){},52:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n.n(r),c=n(22),s=n.n(c),o=n(2),i=n(6),u=n(23),f=n(24),p=n(11),j=n(26),h=n(25),l=(n(32),n(0));function b(){var t=Object(i.e)().instance;return Object(l.jsx)("button",{onClick:function(){return function(t){t.loginRedirect()}(t)},children:"Sign In"})}var d={scopes:["openid","https://fgrsolutionsb2c.onmicrosoft.com/f5e3ba4f-960f-44c0-bd3d-1f0c4c959f0c/Hello"]},O={auth:{clientId:"4bb294af-8713-4f8e-913d-a7fb84eba271",authority:"https://fgrsolutionsb2c.b2clogin.com/fgrsolutionsb2c.onmicrosoft.com/B2C_1_FGR_Secure_app_Frontend_signupandsignin",redirectUri:"https://dariv94.github.io/fgr-secure-api/"},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:function(t,e,n){if(!n)switch(t){case o.e.Error:return void console.error(e);case o.e.Info:return void console.info(e);case o.e.Verbose:return void console.debug(e);default:return void console.warn(e)}}}}};function g(){var t=Object(i.e)().instance;return Object(l.jsx)("button",{onClick:function(){return function(t){console.log("instance: ",t);var e={account:t.getAccountByHomeId("homeAccountId"),postLogoutRedirectUri:"https://dariv94.github.io/fgr-secure-api/"};t.logoutRedirect(e)}(t)},children:"Sign Out"})}var m=n(3),k=n.n(m),x=n(5),v=n(13);function w(t){var e=Object(i.e)(),n=e.instance,a=e.accounts;return Object(r.useEffect)((function(){n.acquireTokenSilent(Object(v.a)(Object(v.a)({},d),{},{account:a[0]})).then(function(){var e=Object(x.a)(k.a.mark((function e(n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("RequestProfileData response:",n),t.setToken(n.accessToken);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),Object(l.jsx)(l.Fragment,{})}var A=n(7);function y(t){var e=Object(r.useState)(null),n=Object(A.a)(e,2),a=n[0],c=n[1];function s(){return(s=Object(x.a)(k.a.mark((function e(){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.apicall,e.next=3,n(t.token);case 3:r=e.sent,c(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("h5",{children:["API ",t.name]}),Object(l.jsxs)("button",{onClick:function(){return s.apply(this,arguments)},children:["CALL ",t.name]}),a?Object(l.jsx)(l.Fragment,{children:JSON.stringify(a)}):Object(l.jsx)("p",{children:"No API Data"}),Object(l.jsx)("button",{onClick:function(){c("")},children:"Reset API Data"})]})}var F=n(8),T=n.n(F);function I(t){return S.apply(this,arguments)}function S(){return(S=Object(x.a)(k.a.mark((function t(e){var n,r,a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{jwtAuthorization:e}},t.next=3,T.a.get("https://fgr-secure-api-management.azure-api.net/function-app/ComputerFunFacts",n);case 3:return r=t.sent,a=r.data.funfact,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function z(t){return C.apply(this,arguments)}function C(){return(C=Object(x.a)(k.a.mark((function t(e){var n,r,a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{jwtAuthorization:e}},t.next=3,T.a.get("https://fgr-secure-api-management.azure-api.net/frankie/request/paths/invoke/",n);case 3:return r=t.sent,a=r.data.funfact,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(t){return N.apply(this,arguments)}function N(){return(N=Object(x.a)(k.a.mark((function t(e){var n,r,a,c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{jwtAuthorization:e}},t.next=3,T.a.get("https://fgr-secure-api-management.azure-api.net/aks/kubernetes/funfact",n);case 3:return r=t.sent,a=Math.floor(Math.random()*r.data.funfacts.length),c=r.data.funfacts[a].fun_fact,t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t){return R.apply(this,arguments)}function R(){return(R=Object(x.a)(k.a.mark((function t(e){var n,r,a,c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{jwtAuthorization:e}},t.next=3,T.a.get("https://fgr-secure-api-management.azure-api.net/aks/microsoft/funfact",n);case 3:return r=t.sent,a=Math.floor(Math.random()*r.data.funfacts.length),c=r.data.funfacts[a].fun_fact,t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var D=function(t){Object(j.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(u.a)(this,n),(r=e.call(this,t)).state={selectedFile:"",loading:!1,responseImage:"",message:"Select a file to upload.",jwtToken:""},r.setToken=r.setToken.bind(Object(p.a)(r)),r}return Object(f.a)(n,[{key:"setToken",value:function(t){this.setState({jwtToken:t})}},{key:"render",value:function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{className:"topheader",children:"Secure API"}),Object(l.jsxs)(i.a,{children:[!this.state.jwtToken&&Object(l.jsx)(w,{setToken:this.setToken}),Object(l.jsx)("hr",{}),Object(l.jsx)(y,{name:"Azure AKS ENDPOINT Kubernetes Fun Facts",apicall:P,token:this.state.jwtToken}),Object(l.jsx)("hr",{}),Object(l.jsx)(y,{name:"Azure AKS ENDPOINT Microsoft Fun Facts",apicall:_,token:this.state.jwtToken}),Object(l.jsx)("hr",{}),Object(l.jsx)(y,{name:"Azure Function ENDPOINT - Computer History Fun Facts",apicall:I,token:this.state.jwtToken}),Object(l.jsx)("hr",{}),Object(l.jsx)(y,{name:"Azure Logic App - Frankie Riviera Fun Facts",apicall:z,token:this.state.jwtToken}),Object(l.jsx)("hr",{}),Object(l.jsx)(g,{})]}),Object(l.jsx)(i.c,{children:Object(l.jsx)(b,{})})]})}}]),n}(r.Component);var E=function(t){var e=Object(i.d)();return console.log("APP isAuthenticated: ",e),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(D,{instance:t.instance,isAuthenticated:e})})},M=new o.g(O);s.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(i.b,{instance:M,children:Object(l.jsx)(E,{instance:M})})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.dd59e757.chunk.js.map