(this["webpackJsonpfgr-secure-api"]=this["webpackJsonpfgr-secure-api"]||[]).push([[0],{32:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(22),s=n.n(c),o=n(2),i=n(6),u=n(23),f=n(24),p=n(11),j=n(26),l=n(25),h=(n(32),n(0));function b(){var e=Object(i.e)().instance;return Object(h.jsx)("button",{onClick:function(){return function(e){e.loginRedirect()}(e)},children:"Sign In"})}var d={scopes:["openid","https://fgrsolutionsb2c.onmicrosoft.com/f5e3ba4f-960f-44c0-bd3d-1f0c4c959f0c/Hello"]},O={auth:{clientId:"4bb294af-8713-4f8e-913d-a7fb84eba271",authority:"https://fgrsolutionsb2c.b2clogin.com/fgrsolutionsb2c.onmicrosoft.com/B2C_1_FGR_Secure_app_Frontend_signupandsignin",redirectUri:"https://dariv94.github.io/fgr-secure-api/"},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:function(e,t,n){if(!n)switch(e){case o.e.Error:return void console.error(t);case o.e.Info:return void console.info(t);case o.e.Verbose:return void console.debug(t);default:return void console.warn(t)}}}}};function g(){var e=Object(i.e)().instance;return Object(h.jsx)("button",{onClick:function(){return function(e){console.log("instance: ",e);var t={account:e.getAccountByHomeId("homeAccountId"),postLogoutRedirectUri:"https://dariv94.github.io/fgr-secure-api/"};e.logoutRedirect(t)}(e)},children:"Sign Out"})}var m=n(3),k=n.n(m),x=n(5),v=n(13);function w(e){var t=Object(i.e)(),n=t.instance,a=t.accounts;return Object(r.useEffect)((function(){n.acquireTokenSilent(Object(v.a)(Object(v.a)({},d),{},{account:a[0]})).then(function(){var t=Object(x.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("RequestProfileData response:",n),e.setToken(n.accessToken);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),Object(h.jsx)(h.Fragment,{})}var A=n(7);function F(e){var t=Object(r.useState)(null),n=Object(A.a)(t,2),a=n[0],c=n[1];function s(){return(s=Object(x.a)(k.a.mark((function t(){var n,r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.apicall,t.next=3,n(e.token);case 3:r=t.sent,c(r);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("h5",{children:["API ",e.name]}),Object(h.jsxs)("button",{onClick:function(){return s.apply(this,arguments)},children:["CALL ",e.name]}),a?Object(h.jsx)(h.Fragment,{children:JSON.stringify(a)}):Object(h.jsx)("p",{children:"No API Data"}),Object(h.jsx)("button",{onClick:function(){c("")},children:"Reset API Data"})]})}var y=n(8),T=n.n(y);function I(e){return S.apply(this,arguments)}function S(){return(S=Object(x.a)(k.a.mark((function e(t){var n,r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{jwtAuthorization:t}},e.next=3,T.a.get("https://fgr-secure-api-management.azure-api.net/function-app/ComputerFunFacts",n);case 3:return r=e.sent,console.log("CallAzureFunction response: ",r),a=r.data.funfact,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return C.apply(this,arguments)}function C(){return(C=Object(x.a)(k.a.mark((function e(t){var n,r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{jwtAuthorization:t}},e.next=3,T.a.get("https://fgr-secure-api-management.azure-api.net/frankie/request/paths/invoke/",n);case 3:return r=e.sent,a=r.data.funfact,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return N.apply(this,arguments)}function N(){return(N=Object(x.a)(k.a.mark((function e(t){var n,r,a,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{jwtAuthorization:t}},e.next=3,T.a.get("https://fgr-secure-api-management.azure-api.net/aks/kubernetes/funfact",n);case 3:return r=e.sent,a=Math.floor(Math.random()*r.data.funfacts.length),c=r.data.funfacts[a].fun_fact,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return R.apply(this,arguments)}function R(){return(R=Object(x.a)(k.a.mark((function e(t){var n,r,a,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{jwtAuthorization:t}},e.next=3,T.a.get("https://fgr-secure-api-management.azure-api.net/aks/microsoft/funfact",n);case 3:return r=e.sent,a=Math.floor(Math.random()*r.data.funfacts.length),c=r.data.funfacts[a].fun_fact,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).state={selectedFile:"",loading:!1,responseImage:"",message:"Select a file to upload.",jwtToken:""},r.setToken=r.setToken.bind(Object(p.a)(r)),r}return Object(f.a)(n,[{key:"setToken",value:function(e){this.setState({jwtToken:e})}},{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{className:"topheader",children:"Secure API"}),Object(h.jsxs)(i.a,{children:[Object(h.jsx)(w,{setToken:this.setToken}),Object(h.jsx)("hr",{}),Object(h.jsx)(F,{name:"Azure AKS ENDPOINT Kubernetes Fun Facts",apicall:P,token:this.state.jwtToken}),Object(h.jsx)("hr",{}),Object(h.jsx)(F,{name:"Azure AKS ENDPOINT Microsoft Fun Facts",apicall:_,token:this.state.jwtToken}),Object(h.jsx)("hr",{}),Object(h.jsx)(F,{name:"Azure Function ENDPOINT - Computer History Fun Facts",apicall:I,token:this.state.jwtToken}),Object(h.jsx)("hr",{}),Object(h.jsx)(F,{name:"Azure Logic App - Frankie Riviera Fun Facts",apicall:z,token:this.state.jwtToken}),Object(h.jsx)("hr",{}),Object(h.jsx)(g,{})]}),Object(h.jsx)(i.c,{children:Object(h.jsx)(b,{})})]})}}]),n}(r.Component);var E=function(e){var t=Object(i.d)();return console.log("APP isAuthenticated: ",t),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(D,{instance:e.instance,isAuthenticated:t})})},M=new o.g(O);s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(i.b,{instance:M,children:Object(h.jsx)(E,{instance:M})})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.969578b5.chunk.js.map